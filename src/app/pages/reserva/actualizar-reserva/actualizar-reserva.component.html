<div class="container">
  <div class="header-form">
    <h2>âœï¸ Editar Reserva #{{ idReserva }}</h2>
    <button class="btn-secondary" routerLink="../../">Cancelar</button>
  </div>

  <div *ngIf="cargando" class="alert">
    â³ Cargando datos...
  </div>

  <form *ngIf="!cargando" [formGroup]="formReserva" (ngSubmit)="guardar()" class="form-grid">

    <div class="form-group">
      <label>Cliente</label>
      <select formControlName="idCliente">
        <option *ngFor="let c of listaClientes" [value]="c.idCliente">
          {{ c.nombres }} {{ c.apellidos }} ({{ c.cedula }})
        </option>
      </select>
    </div>

    <div class="form-group">
      <label>CÃ³digo (No editable)</label>
      <input type="text" formControlName="codigoReserva" readonly style="background-color: #e9ecef;">
    </div>

    <div class="form-group">
      <label>Origen</label>
      <select formControlName="idCiudadOrigen">
        <option *ngFor="let item of listaCiudades" [value]="item.id">{{ item.nombre }}</option>
      </select>
    </div>

    <div class="form-group">
      <label>Destino</label>
      <select formControlName="idCiudadDestino">
        <option *ngFor="let item of listaCiudades" [value]="item.id">{{ item.nombre }}</option>
      </select>
    </div>

    <div class="form-group">
      <label>Fecha Ida</label>
      <input type="datetime-local" formControlName="fechaIda">
    </div>

    <div class="form-group">
      <label>Fecha Vuelta</label>
      <input type="datetime-local" formControlName="fechaVuelta">
    </div>

    <div class="form-group">
      <label>Tipo Pasajero</label>
      <select formControlName="idTipoPasajero">
        <option *ngFor="let item of listaTipoPasajero" [value]="item.id">{{ item.nombre }}</option>
      </select>
    </div>

    <div class="form-group">
      <label>Clase</label>
      <select formControlName="idTipoPasaje">
        <option *ngFor="let item of listaTipoPasaje" [value]="item.id">{{ item.nombre }}</option>
      </select>
    </div>

    <div class="form-group">
      <label>Pasajes</label>
      <input type="number" formControlName="cantidadPasajes" min="1">
    </div>

    <div class="form-group">
      <label>Precio ($)</label>
      <input type="number" formControlName="precio" min="0" step="0.01">
    </div>

    <div class="form-group full-width" style="flex-direction: row; gap: 10px; align-items: center;">
      <label style="margin:0">Â¿Activo?</label>
      <input type="checkbox" formControlName="activo" style="width: 20px;">
    </div>

    <div class="full-width actions">
      <button type="submit" class="btn-primary" [disabled]="enviando || formReserva.invalid">
        {{ enviando ? 'Guardando...' : 'ğŸ’¾ Actualizar' }}
      </button>
    </div>

  </form>
</div>